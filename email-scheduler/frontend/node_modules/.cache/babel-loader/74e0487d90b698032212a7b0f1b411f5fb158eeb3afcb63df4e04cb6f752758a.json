{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sreey\\\\OneDrive\\\\Desktop\\\\New folder\\\\email-scheduler\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate, useNavigate, useLocation } from 'react-router-dom';\nimport axios from 'axios';\nimport { Toaster } from 'sonner';\nimport './App.css';\nimport './index.css';\nimport LoginPage from './pages/LoginPage';\nimport UserDashboard from './pages/UserDashboard';\nimport LoginCallback from './pages/LoginCallback';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\naxios.defaults.withCredentials = true;\nfunction ProtectedRoute({\n  children\n}) {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const res = await axios.get(`${API}/auth/me`);\n        setUser(res.data);\n      } catch {\n        navigate('/login');\n      } finally {\n        setLoading(false);\n      }\n    };\n    checkAuth();\n  }, [navigate]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 20\n      },\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/React.cloneElement(children, {\n    user\n  });\n}\n_s(ProtectedRoute, \"O4T3FskevH4wxCXSUTAcgMG6ioM=\", false, function () {\n  return [useNavigate];\n});\n_c = ProtectedRoute;\nfunction AppRouter() {\n  _s2();\n  const location = useLocation();\n  if (location.hash.includes('session_id=')) {\n    return /*#__PURE__*/_jsxDEV(LoginCallback, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      path: \"/login\",\n      element: /*#__PURE__*/_jsxDEV(LoginPage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/dashboard\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        children: /*#__PURE__*/_jsxDEV(UserDashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/\",\n      element: /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/dashboard\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 32\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s2(AppRouter, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n_c2 = AppRouter;\nexport default function App() {\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: [/*#__PURE__*/_jsxDEV(AppRouter, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Toaster, {\n      position: \"top-right\",\n      richColors: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n_c3 = App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ProtectedRoute\");\n$RefreshReg$(_c2, \"AppRouter\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Routes","Route","Navigate","useNavigate","useLocation","axios","Toaster","LoginPage","UserDashboard","LoginCallback","jsxDEV","_jsxDEV","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","defaults","withCredentials","ProtectedRoute","children","_s","loading","setLoading","user","setUser","navigate","checkAuth","res","get","data","style","padding","fileName","_jsxFileName","lineNumber","columnNumber","cloneElement","_c","AppRouter","_s2","location","hash","includes","path","element","to","replace","_c2","App","position","richColors","_c3","$RefreshReg$"],"sources":["C:/Users/sreey/OneDrive/Desktop/New folder/email-scheduler/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  BrowserRouter,\r\n  Routes,\r\n  Route,\r\n  Navigate,\r\n  useNavigate,\r\n  useLocation,\r\n} from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Toaster } from 'sonner';\r\nimport './App.css';\r\nimport './index.css';\r\n\r\nimport LoginPage from './pages/LoginPage';\r\nimport UserDashboard from './pages/UserDashboard';\r\nimport LoginCallback from './pages/LoginCallback';\r\n\r\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\r\nconst API = `${BACKEND_URL}/api`;\r\n\r\naxios.defaults.withCredentials = true;\r\n\r\nfunction ProtectedRoute({ children }) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [user, setUser] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      try {\r\n        const res = await axios.get(`${API}/auth/me`);\r\n        setUser(res.data);\r\n      } catch {\r\n        navigate('/login');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    checkAuth();\r\n  }, [navigate]);\r\n\r\n  if (loading) {\r\n    return <div style={{ padding: 20 }}>Loading...</div>;\r\n  }\r\n\r\n  return React.cloneElement(children, { user });\r\n}\r\n\r\nfunction AppRouter() {\r\n  const location = useLocation();\r\n\r\n  if (location.hash.includes('session_id=')) {\r\n    return <LoginCallback />;\r\n  }\r\n\r\n  return (\r\n    <Routes>\r\n      <Route path=\"/login\" element={<LoginPage />} />\r\n      <Route\r\n        path=\"/dashboard\"\r\n        element={\r\n          <ProtectedRoute>\r\n            <UserDashboard />\r\n          </ProtectedRoute>\r\n        }\r\n      />\r\n      <Route path=\"/\" element={<Navigate to=\"/dashboard\" replace />} />\r\n    </Routes>\r\n  );\r\n}\r\n\r\nexport default function App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <AppRouter />\r\n      <Toaster position=\"top-right\" richColors />\r\n    </BrowserRouter>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}